spring:
  application:
    name: notification-service


  data:
    mongodb:
      host: localhost
      port: 27017
      database: notification_db
      uuid-representation: standard


  kafka:
    bootstrap-servers: localhost:9092
    consumer:
      group-id: notification-service-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      enable-auto-commit: true
      properties:
        spring.json.trusted.packages: "*"


  mail:
    host: smtp.gmail.com
    port: 587
    username: ${EMAIL}
    password: ${EMAIL_PASSWORD}


    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000


# OneSignal Configuration (for Push Notifications)
onesignal:
  app-id: ${ONESIGNAL_APP_ID}
  rest-api-key: ${ONESIGNAL_REST_API_KEY}
  enabled: true

app:
  jwt:
    secret: ${JWT_SECRET}
    access-token-expiration-ms: 3600000
    refresh-token-expiration-ms: 2592000000

websocket:
  allowed-origins: "*"


kafka:
  topics:
    booking-created: booking-events
    booking-status-changed: booking-events
    review-created: review.created
    message-received: message-notifications
    user-registered: user.registered
    skill-match-found: skill.match.found

server:
  port: 8070

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/

logging:
  level:
    com.skillexchange.notification: DEBUG
    org.springframework.kafka: INFO
    org.springframework.data.mongodb: DEBUG